{"openapi":"3.0.0","info":{"title":"Drone Telemetry API","version":"1.0.0","description":"API Documentation for Drone Telemetry Visualization"},"externalDocs":{"description":"API JSON","url":"http://localhost:3000/swagger.json"},"servers":[{"url":"http://localhost:3000","description":"Main API server"}],"paths":{"/robots":{"get":{"summary":"Fetch available robots","description":"Fetch a list of all available robots","responses":{"200":{"description":"List of robots","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Robot"}}}}},"400":{"description":"Invalid input"}}}},"/operations":{"get":{"summary":"Fetch available operations for a robot","description":"Fetch a list of all operations for a specific robot","parameters":[{"name":"robot","in":"query","description":"The robot ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"List of operations for the robot","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Operation"}}}}},"400":{"description":"Invalid input"}}}},"/telemetries":{"get":{"summary":"Fetch telemetry data for a robot and operation","description":"Fetch telemetry data based on robot and operation, and allow filtering by telemetry fields","parameters":[{"name":"robot","in":"query","description":"The robot ID","required":true,"schema":{"type":"string"}},{"name":"operation","in":"query","description":"The operation ID","required":true,"schema":{"type":"string"}},{"name":"msgId","in":"query","description":"Filter telemetry by message ID (optional)","required":false,"schema":{"type":"integer"}},{"name":"timestamp","in":"query","description":"Filter telemetry by timestamp (optional)","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"fields","in":"query","description":"Comma-separated list of fields to filter (e.g., lat, lon, alt)","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Filtered telemetry data","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Telemetry"}}}}},"400":{"description":"Invalid input"}}}}},"components":{"schemas":{"Operation":{"type":"object","required":["_id","robot"],"properties":{"_id":{"type":"string","description":"Unique identifier for the operation"},"robot":{"type":"string","description":"Reference to the Robot model"}}},"Robot":{"type":"object","required":["_id","name","robot_id"],"properties":{"_id":{"type":"string","description":"Unique identifier for the robot"},"name":{"type":"string","description":"Name of the robot"},"robot_id":{"type":"string","description":"A unique robot identifier (e.g., serial number)"}}},"Telemetry":{"type":"object","required":["_id","operation","robot","__v","msgId","timestamp","payload"],"properties":{"_id":{"type":"string","description":"Unique identifier for the telemetry data"},"operation":{"type":"string","description":"Reference to the Operation model"},"robot":{"type":"string","description":"Reference to the Robot model"},"__v":{"type":"number","description":"Version key for Mongoose documents"},"msgId":{"type":"number","description":"Message ID"},"timestamp":{"type":"string","format":"date-time","description":"Timestamp when the telemetry was recorded"},"payload":{"type":"object","properties":{"airspeed":{"type":"number"},"groundspeed":{"type":"number"},"alt":{"type":"number"},"pitch":{"type":"number"},"pitchspeed":{"type":"number"},"roll":{"type":"number"},"rollspeed":{"type":"number"},"yaw":{"type":"number"},"yawspeed":{"type":"number"},"climb":{"type":"number"},"altEllipsoid":{"type":"number"},"batteryFunction":{"type":"number"},"batteryRemaining":{"type":"number"},"chargeState":{"type":"number"},"cog":{"type":"number"},"currentBattery":{"type":"number"},"currentConsumed":{"type":"number"},"energyConsumed":{"type":"number"},"eph":{"type":"number"},"epv":{"type":"number"},"faultBitmask":{"type":"number"},"fixType":{"type":"number"},"hAcc":{"type":"number"},"hdg":{"type":"number"},"hdgAcc":{"type":"number"},"heading":{"type":"number"},"id":{"type":"number"},"lat":{"type":"number"},"lon":{"type":"number"},"mode":{"type":"number"},"relativeAlt":{"type":"number"},"satellitesVisible":{"type":"number"},"temperature":{"type":"number"},"text":{"type":"string"},"throttle":{"type":"number"},"timeBootMs":{"type":"number"},"timeRemaining":{"type":"number"},"timeUsec":{"type":"number"},"vAcc":{"type":"number"},"vel":{"type":"number"},"velAcc":{"type":"number"},"vx":{"type":"number"},"vy":{"type":"number"},"vz":{"type":"number"},"voltages":{"type":"array","items":{"type":"number"}},"voltagesExt":{"type":"array","items":{"type":"number"}}}}}}}},"tags":[]}